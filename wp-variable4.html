<html>
    <head>
        <title>Test Sandbox Please Ignore</title>
        <!-- Include meta tag to ensure proper rendering and touch zooming -->
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Include jQuery Mobile stylesheets --><!--
<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css"> <!--need consistency w/ index-->
<!--<link rel="stylesheet" href="https://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css">-->

<!-- Include the jQuery library --><!--
<script src="http://code.jquery.com/jquery-1.11.2.min.js"></script>

<!-- Include the jQuery Mobile library -->
<script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
<link rel="stylesheet" href="sand.css">
<script src="main.js"></script>
<script src="jquery.squirrel.min.js"></script>
<!-- Yj's script code for top? -->
<script>
// (function() {
//         var path = '//easy.myfonts.net/v2/js?sid=159303(font-family=Museo+Sans+500)&sid=159305(font-family=Museo+Sans+300)&sid=159306(font-family=Museo+Sans+700)&key=bzksmnhYhe',
//             protocol = ('https:' == document.location.protocol ? 'https:' : 'http:'),
//             trial = document.createElement('script');
//         trial.type = 'text/javascript';
//         trial.async = true;
//         trial.src = protocol + path;
//         var head = document.getElementsByTagName("head")[0];
//         head.appendChild(trial);
//     })();
</script>-->
    <script src="https://code.jquery.com/jquery-1.8.2.min.js"></script>
    <link rel="stylesheet" href="https://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css">
    <script src="https://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script>

    <script type="text/javascript">
    // (function() {
    //     var path = '//easy.myfonts.net/v2/js?sid=159303(font-family=Museo+Sans+500)&sid=159305(font-family=Museo+Sans+300)&sid=159306(font-family=Museo+Sans+700)&key=bzksmnhYhe',
    //         protocol = ('https:' == document.location.protocol ? 'https:' : 'http:'),
    //         trial = document.createElement('script');
    //     trial.type = 'text/javascript';
    //     trial.async = true;
    //     trial.src = protocol + path;
    //     var head = document.getElementsByTagName("head")[0];
    //     head.appendChild(trial);
    // })();
    var content = "default";
    var _if = null;
    var _weather = null;
    var _else = null;

function sendMail() {


        var link = "mailto:"+escape(document.getElementById('email').value)
             + "?cc=cs179@harvard.edu"
             + "&subject=" + escape("Weather Reminder")
             + "&body=" + escape(content);      


    window.location.href = link;
    }


function parseURLParams(url) {
    var queryStart = url.indexOf("?") + 1,
        queryEnd   = url.indexOf("#") + 1 || url.length + 1,
        query = url.slice(queryStart, queryEnd - 1),
        pairs = query.replace(/\+/g, " ").split("&"),
        parms = {}, i, n, v, nv;

    if (query === url || query === "") {
        return;
    }

    for (i = 0; i < pairs.length; i++) {
        nv = pairs[i].split("=");
        n = decodeURIComponent(nv[0]);
        v = decodeURIComponent(nv[1]);

        if (!parms.hasOwnProperty(n)) {
            parms[n] = [];
        }

        parms[n].push(nv.length === 2 ? v : null);
    }
    return parms;
}
//window.onload = function what(){
var urlParams = parseURLParams(window.location.href);
//console.log(urlParams);
//console.log(urlParams["varname0"][0]);
//console.log(urlParams["imgsrc"]);
//console.log(urlParams["imgsrc"][0]);
if (urlParams) {
console.log(urlParams);
if ("imgsrc" in urlParams) {
        var kkk = urlParams["imgsrc"][0];
        var strit = '<img src="';
        var end = '">';
        console.log(strit + kkk + end);
//document.body.innerHTML = strit + kkk + end;
        document.getElementById("wtfmate").innerHTML = strit + kkk + end;
}
}
//};
    </script>
    <script src="main.js"></script>
    <script src="jquery.squirrel.min.js"></script>
    <link rel="stylesheet" href="sand.css">

</head>
<body>
<div data-role="page" class = "yjpage" id="wp-var4-haihai">
 
      <div data-role="header" role="banner" class="ui-header ui-bar-inherit yjbanner">
<a href="wp-variable3-exercise.html" class="ui-btn  ui-btn-icon-left ui-icon-myback ui-btn-icon-notext"><img src="images/back.png" class="yjbackbut"/></a>
        <h1 class = "yjpagehead"<strong>Variables</strong></h1>
        <a href="projectlist.html" class="ui-btn  ui-btn-icon-right ui-icon-mymenu ui-btn-icon-notext yjmenubut"><img src="images/menu.png"/></a> 
        <progress value="40" max="100" style="width:100%; padding-top:44px;">
        </progress>
        </div>      
            
             <div data-role="main" class="ui-content">
    <a href="projectlist.html" data-role="button" class="next-button">Done</a>
    <div id="wtfmate"></div>
        <p>If you see no image, please go back and try again. Read the prompt and hint carefully. If you get stuck, the correct code should be the following:</p>
        <br/>
        <div class="actual-code">
            var varname = new Image(); <br/>
            varname.src = "images/snowy.jpg"; <br/>
            displayImage(varname); <br/>
            <br/>
            <b><em>OR</em></b> <br/>
            <br/>
            var varname = new Image(); <br/>
            varname.src = "images/sleepy.jpg"; <br/>
            displayImage(varname); <br/>
</div>
</div>
<script>
console.log("notice me sempai~");    
function parseURLParams(url) {
    var queryStart = url.indexOf("?") + 1,
        queryEnd   = url.indexOf("#") + 1 || url.length + 1,
        query = url.slice(queryStart, queryEnd - 1),
        pairs = query.replace(/\+/g, " ").split("&"),
        parms = {}, i, n, v, nv;

    if (query === url || query === "") {
        return;
    }

    for (i = 0; i < pairs.length; i++) {
        nv = pairs[i].split("=");
        n = decodeURIComponent(nv[0]);
        v = decodeURIComponent(nv[1]);

        if (!parms.hasOwnProperty(n)) {
            parms[n] = [];
        }

        parms[n].push(nv.length === 2 ? v : null);
    }
    return parms;
}
var urlParams = parseURLParams(window.location.href);
console.log(urlParams);
//console.log(urlParams["varname0"][0]);
console.log(urlParams["imgsrc"]);
console.log(urlParams["imgsrc"][0]);
var kkk = urlParams["imgsrc"][0];
var strit = '<img src="';
var end = '">';
console.log(strit + kkk + end);
//document.body.innerHTML = strit + kkk + end;
document.getElementById("wtfmate").innerHTML = strit + kkk + end;
</script>
</body>

</html>
